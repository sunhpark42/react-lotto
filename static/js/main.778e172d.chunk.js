(this["webpackJsonpreact-lotto"]=this["webpackJsonpreact-lotto"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var s,a=n(1),i=n.n(a),c=n(12),r=n.n(c),o=n(9),l=n(6),u=n(2),b=n(3),j=n(5),m=n(4),p=(n(18),n(19),{PURCHASE_FORM:{INPUT:"money-input"},WINNING_NUMBER_FORM:{WINNING_NUMBER_FIELDSET:"winning-number-fieldset",BONUS_NUMBER_FIELDSET:"bonus-number-fieldset"}}),d=1e3,N={NUMBER_COUNT:6,MIN_NUMBER:1,MAX_NUMBER:45,RANK:{FIRST:1,SECOND:2,THIRD:3,FOURTH:4,FIFTH:5},WINNING_PRIZE:{FIRST:2e9,SECOND:3e7,THIRD:15e5,FOURTH:5e4,FIFTH:5e3},MATCHED_COUNT:{FIRST:6,THIRD:5,FORTH:4,FIFTH:3}},O=(s={},Object(l.a)(s,N.RANK.FIRST,N.WINNING_PRIZE.FIRST),Object(l.a)(s,N.RANK.SECOND,N.WINNING_PRIZE.SECOND),Object(l.a)(s,N.RANK.THIRD,N.WINNING_PRIZE.THIRD),Object(l.a)(s,N.RANK.FOURTH,N.WINNING_PRIZE.FOURTH),Object(l.a)(s,N.RANK.FIFTH,N.WINNING_PRIZE.FIFTH),s),h={INVALID_MONEY_UNIT:"1000\uc6d0 \ub2e8\uc704\ub85c\ub9cc \uad6c\ub9e4 \uac00\ub2a5\ud569\ub2c8\ub2e4.",LOTTO_NOT_EXIST:"\uad6c\uc785\ud55c \ub85c\ub610\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",DUPLICATED_WINNING_NUMBERS:"\ub2f9\ucca8 \ubc88\ud638\ub294 \uc911\ubcf5\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},g=6,x=20,f=45,C=0,I=n(0),R=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isActive:!0},e.setLottoCount=function(t){e.props.setLottoCount(t)},e.onSubmitPurchaseForm=function(t){t.preventDefault();var n=t.target.elements[p.PURCHASE_FORM.INPUT].valueAsNumber;e.isValidPrice(n)?(e.props.setLottoCount(n/d),e.setState({isActive:!1})):alert(h.INVALID_MONEY_UNIT)},e.isValidPrice=function(e){return e%d===0},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsx)("section",{className:"mt-5",children:Object(I.jsxs)("form",{className:"w-100",onSubmit:this.onSubmitPurchaseForm,children:[Object(I.jsx)("label",{htmlFor:"money-input",className:"w-100",children:"\uad6c\uc785\ud560 \uae08\uc561\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694. (\ub2e8\uc704: \uc6d0)"}),Object(I.jsxs)("div",{className:"d-flex justify-space-between items-center mt-1",children:[Object(I.jsx)("input",{id:"money-input",className:"money-input flex-auto mr-3",type:"number",placeholder:"\uad6c\uc785 \uae08\uc561",min:"1000",required:!0,disabled:!this.state.isActive}),Object(I.jsx)("button",{type:"submit",className:"basic-button",disabled:!this.state.isActive,children:"\ud655\uc778"})]})]})})}}]),n}(a.Component),T=n(7),v=function(e){return e.length!==new Set(e).size},w=function(e,t){return Math.floor(Math.random()*(t-e)+e)},M=function(e,t,n){for(var s=new Set;s.size<n;){var a=w(e,t);s.add(a)}return Array.from(s)},y=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={numbers:M(N.MIN_NUMBER,N.MAX_NUMBER,N.NUMBER_COUNT)},e.getMatchedCount=function(){return e.props.winningNumbers.length+e.state.numbers.length-new Set([].concat(Object(T.a)(e.props.winningNumbers),Object(T.a)(e.state.numbers))).size},e.increaseWinningCounts=function(){var t=e.getMatchedCount();t===N.MATCHED_COUNT.FIRST&&e.props.increaseWinningCounts(N.RANK.FIRST),t===N.MATCHED_COUNT.THIRD&&(e.state.numbers.includes(e.props.bonusNumber)?e.props.increaseWinningCounts(N.RANK.SECOND):e.props.increaseWinningCounts(N.RANK.THIRD)),t===N.MATCHED_COUNT.FOURTH&&e.props.increaseWinningCounts(N.RANK.FOURTH),t===N.MATCHED_COUNT.FIFTH&&e.props.increaseWinningCounts(N.RANK.FIFTH)},e}return Object(b.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.isModalOpened&&this.props.isModalOpened!==e.isModalOpened&&this.increaseWinningCounts()}},{key:"render",value:function(){var e=this.props.isToggled;return Object(I.jsxs)("li",{className:"lotto-item ".concat(e?"toggle":""),children:[Object(I.jsx)("span",{className:"lotto-icon",children:"\ud83c\udf9f"}),e&&Object(I.jsx)("span",{children:Object(T.a)(this.state.numbers).join(", ")})]})}}]),n}(a.Component),D=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={toggle:!1},e.onToggle=function(){e.setState({toggle:!e.state.toggle})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t=this.props.lottoCount;return Object(I.jsxs)("section",{className:"mt-5",children:[Object(I.jsxs)("div",{className:"d-flex justify-space-between items-center",children:[Object(I.jsxs)("div",{children:["\ucd1d ",Object(I.jsx)("span",{children:t}),"\uac1c\ub97c \uad6c\ub9e4\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),Object(I.jsxs)("label",{className:"toggle-button",children:[Object(I.jsx)("input",{type:"checkbox",onChange:this.onToggle}),Object(I.jsx)("span",{className:"toggle-slider"})]})]}),Object(I.jsx)("ul",{className:"lotto-list",children:Array.from({length:t}).map((function(t,n){return Object(I.jsx)(y,{isToggled:e.state.toggle,winningNumbers:e.props.winningNumbers,bonusNumber:e.props.bonusNumber,increaseWinningCounts:e.props.increaseWinningCounts,isModalOpened:e.props.isModalOpened},n)}))})]})}}]),n}(a.Component),S=n(13),E=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSubmitWinningNumberForm=function(t){if(t.preventDefault(),e.props.lottoCount){var n=t.target.elements[p.WINNING_NUMBER_FORM.WINNING_NUMBER_FIELDSET].elements,s=Array.from(n).map((function(e){return e.valueAsNumber})),a=t.target.elements[p.WINNING_NUMBER_FORM.BONUS_NUMBER_FIELDSET].elements,i=Array.from(a).map((function(e){return e.valueAsNumber})),c=Object(S.a)(i,1)[0];v([].concat(Object(T.a)(s),[c]))?alert(h.DUPLICATED_WINNING_NUMBERS):(e.props.setWinningNumbers(s),e.props.setBonusNumber(c),e.props.openModal())}else alert(h.LOTTO_NOT_EXIST)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsx)("section",{className:"w-100 mt-5",children:Object(I.jsxs)("form",{className:"w-100 mt-1",onSubmit:this.onSubmitWinningNumberForm,children:[Object(I.jsx)("label",{htmlFor:"first-winning-number",className:"w-100",children:"\uc9c0\ub09c \uc8fc \ub2f9\ucca8\ubc88\ud638 6\uac1c\uc640 \ubcf4\ub108\uc2a4 \ub118\ubc84 1\uac1c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694."}),Object(I.jsxs)("div",{className:"d-flex mt-3",children:[Object(I.jsxs)("fieldset",{id:"winning-number-fieldset",className:"d-flex flex-col flex-auto",children:[Object(I.jsx)("legend",{className:"text-center font-bold",children:"\ub2f9\ucca8\ubc88\ud638"}),Object(I.jsxs)("div",{className:"d-flex flex-row justify-space-between",children:[Object(I.jsx)("input",{type:"number",min:"1",max:"45",id:"first-winning-number",className:"winning-number-input",required:!0}),Object(I.jsx)("input",{type:"number",min:"1",max:"45","aria-label":"winning-number",required:!0,className:"winning-number-input"}),Object(I.jsx)("input",{type:"number",min:"1",max:"45","aria-label":"winning-number",required:!0,className:"winning-number-input"}),Object(I.jsx)("input",{type:"number",min:"1",max:"45","aria-label":"winning-number",required:!0,className:"winning-number-input"}),Object(I.jsx)("input",{type:"number",min:"1",max:"45","aria-label":"winning-number",required:!0,className:"winning-number-input"}),Object(I.jsx)("input",{type:"number",min:"1",max:"45","aria-label":"winning-number",required:!0,className:"winning-number-input"})]})]}),Object(I.jsxs)("fieldset",{id:"bonus-number-fieldset",className:"d-flex flex-col justify-center items-center",children:[Object(I.jsx)("legend",{className:"text-center font-bold",children:"\ubcf4\ub108\uc2a4"}),Object(I.jsx)("input",{type:"number",className:"winning-number-input",min:"1",max:"45",required:!0})]})]}),Object(I.jsx)("button",{className:"w-100 basic-button mt-3",type:"submit",children:"\uacb0\uacfc \ud655\uc778\ud558\uae30"})]})})}}]),n}(a.Component),A=function(){var e=new Date,t=e.getDay(),n=g-t,s=new Date;return s.setDate(s.getDate()+n),s.setHours(x),s.setMinutes(f),s.setSeconds(C),s<=e&&s.setDate(s.getDate()+7),s},F=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={remainTime:0},e.componentDidMount=function(){e.tick(),e.intervalId=setInterval(e.tick,1e3)},e.componentWillUnmount=function(){clearInterval(e.intervalId)},e.tick=function(){var t=new Date,n=e.props.announcementDate-t;n<1e3&&e.props.setAnnouncementDate(A()),e.setState({remainTime:n})},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:"mt-5 text-center",children:[Object(I.jsx)("h3",{className:"m-1",children:"\ud83c\udf89 \ub2f9\ucca8 \ubc88\ud638 \ubc1c\ud45c \uc2dc\uac04 \ud83c\udf89"}),Object(I.jsx)("p",{className:"m-1",children:this.props.announcementDate.toLocaleString("ko-KR")}),Object(I.jsxs)("p",{className:"mt-1",children:["\ub0a8\uc740 \uc2dc\uac04 : ",(e=this.state.remainTime,Math.floor(e/864e5)+"\uc77c "+Math.floor(e/36e5%24)+"\uc2dc\uac04 "+Math.floor(e/6e4)%60+"\ubd84 "+Math.floor(e/1e3)%60+"\ucd08")]})]});var e}}]),n}(a.Component),_=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={winningNumbers:[],bonusNumber:0},e.setWinningNumbers=function(t){e.setState({winningNumbers:t})},e.setBonusNumber=function(t){e.setState({bonusNumber:t})},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("main",{className:"main-container d-flex flex-col",children:[Object(I.jsx)("h1",{className:"text-center m-0",children:"\ud83c\udfb1 \ud589\uc6b4\uc758 \ub85c\ub610"}),Object(I.jsx)(R,{setLottoCount:this.props.setLottoCount}),Object(I.jsx)(D,{isModalOpened:this.props.isModalOpened,lottoCount:this.props.lottoCount,winningNumbers:this.state.winningNumbers,bonusNumber:this.state.bonusNumber,increaseWinningCounts:this.props.increaseWinningCounts}),Object(I.jsx)(E,{lottoCount:this.props.lottoCount,setWinningNumbers:this.setWinningNumbers,setBonusNumber:this.setBonusNumber,openModal:this.props.openModal}),Object(I.jsx)(F,{announcementDate:this.props.announcementDate,setAnnouncementDate:this.props.setAnnouncementDate})]})}}]),n}(a.Component),U=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsx)("table",{className:"mt-3",children:Object(I.jsxs)("tbody",{children:[Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"p-2",children:"\uc77c\uce58 \uac2f\uc218"}),Object(I.jsx)("th",{className:"p-2",children:"\ub2f9\ucca8\uae08"}),Object(I.jsx)("th",{className:"p-2",children:"\ub2f9\ucca8 \uac2f\uc218"})]}),Object(I.jsxs)("tr",{className:"text-center",children:[Object(I.jsx)("td",{className:"p-2",children:"3\uac1c"}),Object(I.jsx)("td",{className:"p-2",children:N.WINNING_PRIZE.FIFTH.toLocaleString()}),Object(I.jsxs)("td",{className:"p-2",children:[Object(I.jsx)("span",{children:this.props.winningCounts[N.RANK.FIFTH]}),"\uac1c"]})]}),Object(I.jsxs)("tr",{className:"text-center",children:[Object(I.jsx)("td",{className:"p-2",children:"4\uac1c"}),Object(I.jsx)("td",{className:"p-2",children:N.WINNING_PRIZE.FOURTH.toLocaleString()}),Object(I.jsxs)("td",{className:"p-2",children:[Object(I.jsx)("span",{children:this.props.winningCounts[N.RANK.FOURTH]}),"\uac1c"]})]}),Object(I.jsxs)("tr",{className:"text-center",children:[Object(I.jsx)("td",{className:"p-2",children:"5\uac1c"}),Object(I.jsx)("td",{className:"p-2",children:N.WINNING_PRIZE.THIRD.toLocaleString()}),Object(I.jsxs)("td",{className:"p-2",children:[Object(I.jsx)("span",{children:this.props.winningCounts[N.RANK.THIRD]}),"\uac1c"]})]}),Object(I.jsxs)("tr",{className:"text-center",children:[Object(I.jsx)("td",{className:"p-2",children:"5\uac1c + \ubcf4\ub108\uc2a4\ubcfc"}),Object(I.jsx)("td",{className:"p-2",children:N.WINNING_PRIZE.SECOND.toLocaleString()}),Object(I.jsxs)("td",{className:"p-2",children:[Object(I.jsx)("span",{children:this.props.winningCounts[N.RANK.SECOND]}),"\uac1c"]})]}),Object(I.jsxs)("tr",{className:"text-center",children:[Object(I.jsx)("td",{className:"p-2",children:"6\uac1c"}),Object(I.jsx)("td",{className:"p-2",children:N.WINNING_PRIZE.FIRST.toLocaleString()}),Object(I.jsxs)("td",{className:"p-2",children:[Object(I.jsx)("span",{children:this.props.winningCounts[N.RANK.FIRST]}),"\uac1c"]})]})]})})}}]),n}(a.Component),W=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getEarnedMoney=function(){return Object.keys(e.props.winningCounts).reduce((function(t,n){return t+e.props.winningCounts[n]*O[n]}),0)},e.calculateEarningRate=function(){var t=e.getEarnedMoney(),n=e.props.paidMoney;return Math.floor((t-n)/n*100)},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:"mt-5 text-center",children:["\ud83c\udf89\ud83c\udf89 \ub2f9\uc2e0\uc758 \ucd1d \uc218\uc775\ub960\uc740 ",Object(I.jsx)("span",{className:"font-bold",children:this.calculateEarningRate()}),"%\uc785\ub2c8\ub2e4. \ud83c\udf89\ud83c\udf89"]})}}]),n}(a.Component),H=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).handleDimmedClick=function(t){t.currentTarget===t.target&&e.props.closeModal()},e.handleEscapeKeyDown=function(t){"Esc"!==t.key&&"Escape"!==t.key||e.props.closeModal()},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"modal d-flex justify-center items-center",role:"dialog","aria-modal":"true",onMouseDown:this.handleDimmedClick,onKeyDown:this.handleEscapeKeyDown,tabIndex:"0",children:Object(I.jsxs)("div",{className:"modal-inner d-flex flex-col justify-center",children:[Object(I.jsx)("button",{type:"button",className:"modal-close-button",onClick:this.props.closeModal,children:Object(I.jsx)("svg",{viewBox:"0 0 40 40",children:Object(I.jsx)("path",{className:"close-x",d:"M 10,10 L 30,30 M 30, 10 L 10, 30"})})}),Object(I.jsx)("h1",{className:"text-center m-0",children:"\ud83d\udcb5 \ub2f9\ucca8 \uacb0\uacfc"}),Object(I.jsx)(U,{winningCounts:this.props.winningCounts}),Object(I.jsx)(W,{paidMoney:this.props.paidMoney,winningCounts:this.props.winningCounts}),Object(I.jsx)("button",{type:"button",className:"restart-button basic-button mt-5",onClick:this.props.resetAllState,children:"\ub2e4\uc2dc \uc2dc\uc791\ud558\uae30"})]})})}}]),n}(a.Component),K=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e,s;Object(u.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(s=t.call.apply(t,[this].concat(i))).state={isModalOpened:!1,winningCounts:(e={},Object(l.a)(e,N.RANK.FIRST,0),Object(l.a)(e,N.RANK.SECOND,0),Object(l.a)(e,N.RANK.THIRD,0),Object(l.a)(e,N.RANK.FOURTH,0),Object(l.a)(e,N.RANK.FIFTH,0),e),lottoCount:0,mainComponentKey:new Date,announcementDate:A()},s.initialState=s.state,s.resetState=function(){s.setState(Object(o.a)(Object(o.a)({},s.initialState),{},{mainComponentKey:new Date}))},s.setWinningCounts=function(e){s.setState({winningCounts:e})},s.increaseWinningCounts=function(e){s.setState((function(t){return{winningCounts:Object(o.a)(Object(o.a)({},t.winningCounts),{},Object(l.a)({},e,t.winningCounts[e]+1))}}))},s.setLottoCount=function(e){s.setState({lottoCount:e})},s.setAnnouncementDate=function(e){s.setState({announcementDate:e})},s.openModal=function(){s.setState({isModalOpened:!0})},s.closeModal=function(){s.setState({isModalOpened:!1}),s.setWinningCounts(s.initialState.winningCounts)},s}return Object(b.a)(n,[{key:"render",value:function(){return Object(I.jsxs)("div",{className:"app d-flex justify-center items-center",children:[Object(I.jsx)(_,{announcementDate:this.state.announcementDate,setAnnouncementDate:this.setAnnouncementDate,isModalOpened:this.state.isModalOpened,openModal:this.openModal,increaseWinningCounts:this.increaseWinningCounts,setWinningCounts:this.setWinningCounts,lottoCount:this.state.lottoCount,setLottoCount:this.setLottoCount},this.state.mainComponentKey),this.state.isModalOpened&&Object(I.jsx)(H,{closeModal:this.closeModal,winningCounts:this.state.winningCounts,paidMoney:this.state.lottoCount*d,resetAllState:this.resetState})]})}}]),n}(a.Component),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};r.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(K,{})}),document.getElementById("root")),L()}},[[21,1,2]]]);
//# sourceMappingURL=main.778e172d.chunk.js.map