(this["webpackJsonpreact-lotto"]=this["webpackJsonpreact-lotto"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var s,c=n(3),o=n.n(c),a=n(9),r=n.n(a),i=n(1),l=n(5),u=n(4),b=n(2),j=(n(14),1e3),O={NUMBER_COUNT:6,MIN_NUMBER:1,MAX_NUMBER:45,RANK:{FIRST:1,SECOND:2,THIRD:3,FOURTH:4,FIFTH:5},WINNING_PRIZE:{FIRST:2e9,SECOND:3e7,THIRD:15e5,FOURTH:5e4,FIFTH:5e3},MATCHED_COUNT:{FIRST:6,THIRD:5,FOURTH:4,FIFTH:3},WINNING_CONDITION_TEXT:{FIRST:"6\uac1c",SECOND:"5\uac1c + \ubcf4\ub108\uc2a4\ubcfc",THIRD:"5\uac1c",FOURTH:"4\uac1c",FIFTH:"3\uac1c"}},m=(s={},Object(b.a)(s,O.RANK.FIRST,O.WINNING_PRIZE.FIRST),Object(b.a)(s,O.RANK.SECOND,O.WINNING_PRIZE.SECOND),Object(b.a)(s,O.RANK.THIRD,O.WINNING_PRIZE.THIRD),Object(b.a)(s,O.RANK.FOURTH,O.WINNING_PRIZE.FOURTH),Object(b.a)(s,O.RANK.FIFTH,O.WINNING_PRIZE.FIFTH),s),d={INVALID_MONEY_UNIT:"1000\uc6d0 \ub2e8\uc704\ub85c\ub9cc \uad6c\ub9e4 \uac00\ub2a5\ud569\ub2c8\ub2e4.",LOTTO_NOT_EXIST:"\uad6c\uc785\ud55c \ub85c\ub610\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",DUPLICATED_WINNING_NUMBERS:"\ub2f9\ucca8 \ubc88\ud638\ub294 \uc911\ubcf5\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},N=6,f=20,I=45,x=0,h=n(0);function T(e){var t=e.lottoCount,n=e.setLottoCount,s=e.setMoneyInput,c=e.moneyInput,o=0===t,a=c%j===0;return Object(h.jsx)("section",{className:"mt-5",children:Object(h.jsx)("form",{className:"w-100",onSubmit:function(e){e.preventDefault(),a?n(c/j):alert(d.INVALID_MONEY_UNIT)},children:Object(h.jsxs)("div",{className:"d-flex justify-space-between items-center mt-1",children:[Object(h.jsxs)("label",{className:"w-100 mr-3",children:["\uad6c\uc785\ud560 \uae08\uc561\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694. (\ub2e8\uc704: \uc6d0)",Object(h.jsx)("input",{className:"money-input flex-auto mr-3",name:"money-input",type:"number",placeholder:"\uad6c\uc785 \uae08\uc561",min:"1000",max:"100000",value:c||"",onChange:function(e){var t=e.target;s(t.valueAsNumber)},required:!0,disabled:!o})]}),Object(h.jsx)("button",{type:"submit",className:"basic-button align-self-end money-submit-button",disabled:!o,children:"\ud655\uc778"})]})})})}function g(e){var t=e.lottoCount,n=e.isLottoListToggled,s=e.setIsLottoListToggled,c=e.children;return Object(h.jsxs)("section",{className:"mt-5",children:[Object(h.jsxs)("div",{className:"d-flex justify-space-between items-center",children:[Object(h.jsxs)("div",{children:["\ucd1d ",Object(h.jsx)("span",{children:t}),"\uac1c\ub97c \uad6c\ub9e4\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),Object(h.jsxs)("label",{className:"toggle-button",children:[Object(h.jsx)("input",{type:"checkbox",checked:n,onChange:function(){s(!n)}}),Object(h.jsx)("span",{className:"toggle-slider"})]})]}),Object(h.jsx)("ul",{className:"lotto-list",children:c})]})}var p=function(e,t){return Math.floor(Math.random()*(t-e)+e)},R=function(e,t,n){for(var s=new Set;s.size<n;){var c=p(e,t);s.add(c)}return Array.from(s)};!function(){var e=0}();function v(e){var t=e.lottoCount,n=e.setBonusNumber,s=e.setWinningNumbers,c=e.openModal,o=e.winningNumbers,a=e.bonusNumber;return Object(h.jsx)("section",{className:"w-100 mt-5",children:Object(h.jsxs)("form",{className:"w-100 mt-1",onSubmit:function(e){var n;(e.preventDefault(),t)?(n=[].concat(Object(u.a)(Object.values(o)),[a])).length===new Set(n).size?c():alert(d.DUPLICATED_WINNING_NUMBERS):alert(d.LOTTO_NOT_EXIST)},children:[Object(h.jsxs)("label",{className:"w-100",children:["\uc9c0\ub09c \uc8fc \ub2f9\ucca8\ubc88\ud638 6\uac1c\uc640 \ubcf4\ub108\uc2a4 \ub118\ubc84 1\uac1c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.",Object(h.jsxs)("div",{className:"d-flex mt-3",children:[Object(h.jsxs)("fieldset",{id:"winning-number-fieldset",className:"d-flex flex-col flex-auto",children:[Object(h.jsx)("legend",{className:"text-center font-bold",children:"\ub2f9\ucca8\ubc88\ud638"}),Object(h.jsx)("div",{className:"d-flex flex-row justify-space-between",children:Object.entries(o).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(h.jsx)("input",{value:c||"",onChange:function(e){s(Object(i.a)(Object(i.a)({},o),{},Object(b.a)({},n,e.target.valueAsNumber)))},type:"number",min:"1",max:"45","aria-label":"".concat(Object.keys(o).indexOf(n)+1,"\ubc88 \uca30 \ub2f9\ucca8\ubc88\ud638 \uc785\ub825"),required:!0,className:"winning-number-input"},n)}))})]}),Object(h.jsxs)("fieldset",{id:"bonus-number-fieldset",className:"d-flex flex-col justify-center items-center",children:[Object(h.jsx)("legend",{className:"text-center font-bold",children:"\ubcf4\ub108\uc2a4"}),Object(h.jsx)("input",{type:"number",className:"winning-number-input",min:"1",max:"45",value:a||"",onChange:function(e){n(e.target.valueAsNumber)},"aria-label":"\ubcf4\ub108\uc2a4 \ubc88\ud638 \uc785\ub825",required:!0})]})]})]}),Object(h.jsx)("button",{className:"w-100 basic-button mt-3",type:"submit",children:"\uacb0\uacfc \ud655\uc778\ud558\uae30"})]})})}var C=function(){var e=new Date,t=e.getDay(),n=N-t,s=new Date;return s.setDate(s.getDate()+n),s.setHours(f),s.setMinutes(I),s.setSeconds(x),s<=e&&s.setDate(s.getDate()+7),s};function D(e){var t,n=e.announcementDate,s=e.setAnnouncementDate,o=Object(c.useState)(0),a=Object(l.a)(o,2),r=a[0],i=a[1];return function(e,t){var n=Object(c.useRef)(e);Object(c.useEffect)((function(){n.current=e}),[e]),Object(c.useEffect)((function(){if(null!==t){var e=setInterval(n.current,t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=new Date,t=n-e;t<1e3&&s(C()),i(t)}),1e3),Object(h.jsxs)("div",{className:"mt-5 text-center",children:[Object(h.jsx)("h3",{className:"m-1",children:"\ud83c\udf89 \ub2f9\ucca8 \ubc88\ud638 \ubc1c\ud45c \uc2dc\uac04 \ud83c\udf89"}),Object(h.jsx)("p",{className:"m-1",children:n.toLocaleString("ko-KR")}),Object(h.jsxs)("p",{className:"mt-1",children:["\ub0a8\uc740 \uc2dc\uac04 : ",(t=r,Math.floor(t/864e5)+"\uc77c "+Math.floor(t/36e5%24)+"\uc2dc\uac04 "+Math.floor(t/6e4)%60+"\ubd84 "+Math.floor(t/1e3)%60+"\ucd08")]})]})}function M(e){var t=e.isToggled,n=e.numbers;return Object(h.jsxs)("li",{className:"lotto-item ".concat(t&&"toggle"),children:[Object(h.jsx)("span",{className:"lotto-icon",children:"\ud83c\udf9f"}),t&&Object(h.jsx)("span",{children:Object(u.a)(n).join(", ")})]})}function F(e){var t=e.isModalOpened,n=e.isLottoListToggled,s=e.setIsLottoListToggled,c=e.openModal,o=e.announcementDate,a=e.setAnnouncementDate,r=e.lottoInformation,l=e.setLottoInformation,u=e.lottoItems,b=e.creatLottoItem,j=r.lottoCount,O=r.winningNumbers,m=r.bonusNumber,d=r.moneyInput;return Object(h.jsxs)("main",{className:"main-container d-flex flex-col",children:[Object(h.jsx)("h1",{className:"text-center m-0",children:"\ud83c\udfb1 \ud589\uc6b4\uc758 \ub85c\ub610"}),Object(h.jsx)(T,{lottoCount:j,setLottoCount:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{lottoCount:e}))},moneyInput:d,setMoneyInput:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{moneyInput:e}))},creatLottoItem:b}),Object(h.jsx)(g,{isModalOpened:t,isLottoListToggled:n,setIsLottoListToggled:s,lottoCount:j,winningNumbers:O,bonusNumber:m,children:u.map((function(e){var t=e.id,s=e.numbers;return Object(h.jsx)(M,{isToggled:n,numbers:s},t)}))}),Object(h.jsx)(v,{lottoCount:j,winningNumbers:O,setWinningNumbers:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{winningNumbers:e}))},bonusNumber:m,setBonusNumber:function(e){return l(Object(i.a)(Object(i.a)({},r),{},{bonusNumber:e}))},openModal:c}),Object(h.jsx)(D,{announcementDate:o,setAnnouncementDate:a})]})}function E(e){var t=e.closeModal,n=e.children;return Object(h.jsx)("div",{className:"modal d-flex justify-center items-center",role:"dialog","aria-modal":"true",onMouseDown:function(e){e.currentTarget===e.target&&t()},onKeyDown:function(e){"Esc"!==e.key&&"Escape"!==e.key||t()},tabIndex:"0",children:Object(h.jsxs)("div",{className:"modal-inner d-flex flex-col justify-center",children:[Object(h.jsx)("button",{type:"button",className:"modal-close-button",onClick:t,children:Object(h.jsx)("svg",{viewBox:"0 0 40 40",children:Object(h.jsx)("path",{className:"close-x",d:"M 10,10 L 30,30 M 30, 10 L 10, 30"})})}),n]})})}var w=["FIRST","SECOND","THIRD","FOURTH","FIFTH"];function L(e){var t=e.winningCounts;return Object(h.jsxs)("table",{className:"mt-3",children:[Object(h.jsx)("caption",{className:"text-center mb-5 font-bold text-xll",children:"\ud83d\udcb5 \ub2f9\ucca8 \uacb0\uacfc"}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"p-2",children:"\uc77c\uce58 \uac2f\uc218"}),Object(h.jsx)("th",{className:"p-2",children:"\ub2f9\ucca8\uae08"}),Object(h.jsx)("th",{className:"p-2",children:"\ub2f9\ucca8 \uac2f\uc218"})]}),w.map((function(e){return Object(h.jsxs)("tr",{className:"text-center",children:[Object(h.jsx)("td",{className:"p-2",children:O.WINNING_CONDITION_TEXT[e]}),Object(h.jsx)("td",{className:"p-2",children:O.WINNING_PRIZE[e].toLocaleString()}),Object(h.jsxs)("td",{className:"p-2",children:[Object(h.jsx)("span",{children:t[O.RANK[e]]}),"\uac1c"]})]},e)}))]})]})}function S(e){var t=e.winningCounts,n=e.paidMoney,s=Object.keys(t).reduce((function(e,n){return e+t[n]*m[n]}),0),c=Math.floor((s-n)/n*100);return Object(h.jsxs)("div",{className:"mt-5 text-center",children:["\ud83c\udf89\ud83c\udf89 \ub2f9\uc2e0\uc758 \ucd1d \uc218\uc775\ub960\uc740 ",Object(h.jsx)("span",{className:"font-bold",children:c}),"%\uc785\ub2c8\ub2e4. \ud83c\udf89\ud83c\udf89"]})}var y,A=function(){var e=0;return{getId:function(){return e+=1}}}(),H={isModalOpened:!1,isLottoListToggled:!1,lottoItems:[],lottoInformation:{moneyInput:0,lottoCount:0,winningNumbers:{first:0,second:0,third:0,fourth:0,fifth:0,sixth:0},bonusNumber:0,winningCounts:(y={},Object(b.a)(y,O.RANK.FIRST,0),Object(b.a)(y,O.RANK.SECOND,0),Object(b.a)(y,O.RANK.THIRD,0),Object(b.a)(y,O.RANK.FOURTH,0),Object(b.a)(y,O.RANK.FIFTH,0),y)}};function _(){var e=Object(c.useState)(H.lottoInformation),t=Object(l.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(H.lottoItems),a=Object(l.a)(o,2),r=a[0],m=a[1],d=Object(c.useState)(C()),N=Object(l.a)(d,2),f=N[0],I=N[1],x=Object(c.useState)(H.isModalOpened),T=Object(l.a)(x,2),g=T[0],p=T[1],v=Object(c.useState)(H.isLottoListToggled),D=Object(l.a)(v,2),M=D[0],w=D[1],y=n.winningCounts,_=n.lottoCount,U=n.winningNumbers,K=n.bonusNumber,B=function(){var e=Object.values(U);r.forEach((function(t){var c,o,a=function(e,t){switch(e){case O.MATCHED_COUNT.FIRST:return O.RANK.FIRST;case O.MATCHED_COUNT.THIRD:return t?O.RANK.SECOND:O.RANK.THIRD;case O.MATCHED_COUNT.FOURTH:return O.RANK.FOURTH;case O.MATCHED_COUNT.FIFTH:return O.RANK.FIFTH;default:return}}((c=e,o=t.numbers,c.length+o.length-new Set([].concat(Object(u.a)(c),Object(u.a)(o))).size),e.includes(K));a&&s(Object(i.a)(Object(i.a)({},n),{},{winningCounts:Object(i.a)(Object(i.a)({},y),{},Object(b.a)({},a,y[a]+1))}))}))};return Object(c.useEffect)((function(){!function(){var e=Array.from({length:_}).map((function(){return{id:A.getId(),numbers:R(O.MIN_NUMBER,O.MAX_NUMBER,O.NUMBER_COUNT)}}));m(e)}()}),[_]),Object(h.jsxs)("div",{className:"app d-flex justify-center items-center",children:[Object(h.jsx)(F,{announcementDate:f,setAnnouncementDate:I,isModalOpened:g,isLottoListToggled:M,setIsLottoListToggled:w,openModal:function(){B(),p(!0)},lottoInformation:n,setLottoInformation:s,lottoItems:r}),g&&Object(h.jsxs)(E,{closeModal:function(){p(!1),s(Object(i.a)(Object(i.a)({},n),{},{winningCounts:H.lottoInformation.winningCounts}))},children:[Object(h.jsx)(L,{winningCounts:y}),Object(h.jsx)(S,{paidMoney:_*j,winningCounts:y}),Object(h.jsx)("button",{type:"button",className:"restart-button basic-button mt-5",onClick:function(){p(H.isModalOpened),w(H.isLottoListToggled),I(C()),s(H.lottoInformation)},children:"\ub2e4\uc2dc \uc2dc\uc791\ud558\uae30"})]})]})}var U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),o(e),a(e)}))};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root")),U()}},[[16,1,2]]]);
//# sourceMappingURL=main.38ddf0bc.chunk.js.map